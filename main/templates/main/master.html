{% extends "main/base.html" %}
{% load static %}
{% block title %}Admin | Registration Form | Euphoric 2024{% endblock title %}
{% block head %}{% endblock head %}

{% block body %}
{% include 'main/topbar.html' %}
<section class="container">
    <h1 class="container-head">Admin - <span>Euphoric 2024</span> Event Registration</h1>
    <form action="/download-report/" method="post" class="download-report-form">
        {% csrf_token %}
        <select name="category" id="event" required>
            <option selected disabled>Select Category to Download</option>
            <option value="all">All</option>
            {% for category in categories %}
            <option value="{{category.name}}">{{category.name}}</option>
            {% endfor %}
            <option disabled>--- Courses ---</option>
            {% for course in courses %}
            <option value="{{course.name}}">{{course.name}}</option>
            {% endfor %}
        </select>
        <button type="submit">Download Submissions</button>
    </form>
    <p
        style="font-size: 14px; font-weight: 500; font-family:'Kanit'; width: 100%; text-align: center; background: var(--bg-dull); margin: 8px 0px; padding: 5px 0; border-radius: 10px;">
        Total <span style="color: var(--primary);">{{count}}</span> Submissions Recorded
    </p>
    <div class=" submission-table">
        <div class="table-row header">
            <div class="table-cell">Admission</div>
            <div class="table-cell">Name</div>
            <div class="table-cell">Email</div>
            <div class="table-cell gender">Gender</div>
            <div class="table-cell">Phone</div>
            <div class="table-cell">Course</div>
            <!-- <div class="table-cell">Branch</div> -->
            <div class="table-cell year">Year</div>
            <div class="table-cell">Event 1</div>
            <div class="table-cell">Event 2</div>
        </div>

        {% for data in submissions %}
        <div class="table-row">
            <div class="table-cell">{{ data.admission }}</div>
            <div class="table-cell">{{ data.name }}</div>
            <div class="table-cell">{{ data.email }}</div>
            <div class="table-cell gender">{{ data.gender }}</div>
            <div class="table-cell">{{ data.phone }}</div>
            <div class="table-cell">{{ data.course }}</div>
            <!-- <div class="table-cell">{{ data.branch }}</div> -->
            <div class="table-cell year">{{ data.year }}</div>
            <div class="table-cell">{{ data.event_1 }}</div>
            <div class="table-cell">{{ data.event_2 }}</div>
        </div>
        {% endfor %}
    </div>

    <a href="/logout/" class="logout-btn">Logout</a>

</section>
{% endblock body %}